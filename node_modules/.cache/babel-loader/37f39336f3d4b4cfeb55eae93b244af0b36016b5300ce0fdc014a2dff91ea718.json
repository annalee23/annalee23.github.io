{"ast":null,"code":"import moment from 'moment';\nimport axios from 'axios';\nimport router from '@/router';\nexport default {\n  data() {\n    return {\n      order: null\n    };\n  },\n  mounted() {\n    const id = this.$route.path.split('/').pop();\n    this.fetchOrderDetails(id);\n  },\n  methods: {\n    fetchOrderDetails(id) {\n      if (parseInt(id) >= 6) {\n        this.order = null;\n        return;\n      }\n      axios.get(`https://my-json-server.typicode.com/plushevy/demo/orders/${id}`).then(response => {\n        this.order = response.data;\n      }).catch(error => {\n        console.error('Ошибка при загрузке данных заявки:', error);\n      });\n    },\n    formatDate(date) {\n      return moment(date).format('DD.MM.YYYY HH:mm');\n    }\n  },\n  computed: {\n    isNewOrder() {\n      return parseInt(this.$route.params.id) >= 6;\n    }\n  }\n};","map":{"version":3,"names":["moment","axios","router","data","order","mounted","id","$route","path","split","pop","fetchOrderDetails","methods","parseInt","get","then","response","catch","error","console","formatDate","date","format","computed","isNewOrder","params"],"sources":["src/components/OrderDetails.vue"],"sourcesContent":["<template>\n  <v-card>\n    <h2>Детали заявки</h2>\n    <div v-if=\"order\">\n      <p><strong>ID:</strong> {{ order.id }}</p>\n      <p><strong>Номер:</strong> {{ order.num }}</p>\n      <p><strong>Дата добавления:</strong> {{ formatDate(order.dadd) }}</p>\n      <p><strong>Профиль ID:</strong> {{ order.profile_id }}</p>\n      <p><strong>Статус:</strong> {{ order.state }}</p>\n      <p><strong>Последнее обновление:</strong> {{ formatDate(order.lastUpd) }}</p>\n      <p><strong>Продукт:</strong> {{ order.stg.join(', ') }}</p>\n      <p><strong>ИНН:</strong> {{ order.inn }}</p>\n      <p><strong>Телефон:</strong> {{ order.person_phone }}</p>\n      <p><strong>Тип компании:</strong> {{ order.company_type }}</p>\n      <p><strong>Email:</strong> {{ order.person_email }}</p>\n      <p><strong>Источник CRM:</strong> {{ order.extra.crm_source_type }}</p>\n      <div v-if=\"order.extra && order.extra.partner\">\n        <h3>Партнер</h3>\n        <p><strong>Тип:</strong> {{ order.extra.partner.type }}</p>\n        <p><strong>User ID:</strong> {{ order.extra.partner.user_id }}</p>\n        <p><strong>Имя клиента:</strong> {{ order.extra.partner.client_name }}</p>\n        <p><strong>ИНН:</strong> {{ order.extra.partner.inn }}</p>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"no-data-message\">\n        <p v-if=\"isNewOrder\">Извините, данных по новым заявкам на сервере нет</p>\n        <p v-else>Загрузка данных...</p>\n      </div>\n    </div>\n  </v-card>\n</template>\n\n<script>\nimport moment from 'moment';\nimport axios from 'axios';\nimport router from '@/router'; \n\nexport default {\n  data() {\n    return {\n      order: null\n    };\n  },\n  mounted() {\n    const id = this.$route.path.split('/').pop();\n    this.fetchOrderDetails(id);\n  },\n  methods: {\n    fetchOrderDetails(id) {\n      if (parseInt(id) >= 6) {\n        this.order = null;\n        return;\n      }\n      axios\n        .get(`https://my-json-server.typicode.com/plushevy/demo/orders/${id}`)\n        .then(response => {\n          this.order = response.data;\n        })\n        .catch(error => {\n          console.error('Ошибка при загрузке данных заявки:', error);\n        });\n    },\n    formatDate(date) {\n      return moment(date).format('DD.MM.YYYY HH:mm');\n    },\n  },\n  computed: {\n    isNewOrder() {\n      return parseInt(this.$route.params.id) >= 6;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  padding: 20px;\n}\n\nh2 {\n  margin-bottom: 20px;\n  text-align: center;\n}\n\n.no-data-message {\n  text-align: center;\n  padding: 20px;\n  margin: 20px 0;\n  border-radius: 5px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.no-data-message p {\n  margin: 0;\n}\n</style>"],"mappings":"AAkCA,OAAAA,MAAA;AACA,OAAAC,KAAA;AACA,OAAAC,MAAA;AAEA;EACAC,KAAA;IACA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,MAAAC,EAAA,QAAAC,MAAA,CAAAC,IAAA,CAAAC,KAAA,MAAAC,GAAA;IACA,KAAAC,iBAAA,CAAAL,EAAA;EACA;EACAM,OAAA;IACAD,kBAAAL,EAAA;MACA,IAAAO,QAAA,CAAAP,EAAA;QACA,KAAAF,KAAA;QACA;MACA;MACAH,KAAA,CACAa,GAAA,6DAAAR,EAAA,IACAS,IAAA,CAAAC,QAAA;QACA,KAAAZ,KAAA,GAAAY,QAAA,CAAAb,IAAA;MACA,GACAc,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,uCAAAA,KAAA;MACA;IACA;IACAE,WAAAC,IAAA;MACA,OAAArB,MAAA,CAAAqB,IAAA,EAAAC,MAAA;IACA;EACA;EACAC,QAAA;IACAC,WAAA;MACA,OAAAX,QAAA,MAAAN,MAAA,CAAAkB,MAAA,CAAAnB,EAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}